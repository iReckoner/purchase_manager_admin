<div class="content-block">  
    <dx-load-panel
      [position]="{ of: '#formContainer' }"
      [(visible)]="loading"
      [showPane]="true"
      [showIndicator]="true">
    </dx-load-panel>
  
    <div id="formContainer">
      <dx-form
        [formData]="currentParty"
        (onContentReady)="onFormContentReady($event)">
        
        <!-- Basic Information -->
        <dxi-item itemType="group" colCount="3">
          <dxi-item disabled="true" dataField="PartyId" [editorOptions]="{ disabled: loading }">
          </dxi-item>
          <dxi-item disabled="true" dataField="PartyName" [editorOptions]="{ disabled: loading }">
          </dxi-item>
          <dxi-item disabled="true" dataField="PartyGroupId" [editorOptions]="{ disabled: loading }">
          </dxi-item>
          <dxi-item disabled="true" dataField="PartyGroupName" [editorOptions]="{ disabled: loading }">
          </dxi-item>
          <dxi-item disabled="true" dataField="PerAdd1" [editorOptions]="{ disabled: loading }">
            <dxo-label text="Company Name"></dxo-label>
          </dxi-item>
          <dxi-item disabled="true" dataField="PerAdd2" [editorOptions]="{ disabled: loading }">
            <dxo-label text="Address"></dxo-label>
          </dxi-item>
          <dxi-item disabled="true" dataField="PerCity" [editorOptions]="{ disabled: loading }">
            <dxo-label text="City"></dxo-label>
          </dxi-item>
          <dxi-item disabled="true" dataField="PerState" [editorOptions]="{ disabled: loading }">
            <dxo-label text="State"></dxo-label>
          </dxi-item>
          <dxi-item disabled="true" dataField="PerEmail" [editorOptions]="{ disabled: loading }">
            <dxo-label text="Email"></dxo-label>
          </dxi-item>
          <dxi-item disabled="true" dataField="PerTelephone" [editorOptions]="{disabled: loading }">
            <dxo-label text="Mobile Number"></dxo-label>
          </dxi-item>
          <dxi-item 
            dataField="ContactId" 
            editorType="dxSelectBox"
            [editorOptions]="{
              dataSource: contacts,
              displayExpr: 'name',
              valueExpr: 'id',
              searchEnabled: true,
              showClearButton: true,
              placeholder: 'Select a contact',
              disabled: loading
            }">
            <dxi-validation-rule type="required" message="Contact is required"></dxi-validation-rule>
          </dxi-item>
         
        </dxi-item>
        
        
      </dx-form>
      
      <!-- Buttons outside form -->
      <div class="form-actions">
        <dx-button
          text="Cancel"
          stylingMode="outlined"
          (onClick)="onCancel()"
          [disabled]="loading">
        </dx-button>
        <dx-button
          text="Save"
          type="default"
          stylingMode="contained"
          (onClick)="onSaving()"
          [disabled]="loading"
          style="margin-left: 10px;">
        </dx-button>
      </div>
      
      <dx-load-panel
        [visible]="loading"
        [showPane]="true"
        [showIndicator]="true"
        [closeOnOutsideClick]="false">
      </dx-load-panel>
    </div>
  
    
  </div>
  